<!--5.- A partir del fichero ut06ej5RecorrerDOM.html se quiere  que, cuando se 
    haga click en cualquiera de los h2, recorra su árbol DOM y muestre la información correspondiente-->
<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>Recorrer árbol DOM</title>
  <script type="text/javascript">

      window.addEventListener("load", ini);

      function ini() {
        document.getElementsByTagName("h2")[0].addEventListener("click", show);
        
        document.getElementsByTagName("h2")[1].addEventListener("click", show);
        
        document.getElementsByTagName("h2")[2].addEventListener("click", show);
      }

      function show(event) {

        document.body.removeChild(document.body.lastChild);
        
        var e = event.target;
        var turno = e.parentElement;
        var lista = e.nextElementSibling;
        var clases = lista.children;
        var totalClases = clases.length;

        var saltoL = document.createElement("br");

        var txt = "Has elegido "+e.textContent+" que se imparte en el turno de "+turno.getAttribute("id")+".";
        var txt2 = "Los números de grupos que se imparten son: "+totalClases+": "+recorrer(clases);

        var cajita = document.createElement("div");
        document.body.appendChild(cajita);
        cajita.appendChild(document.createTextNode(txt));
        cajita.appendChild(saltoL);
        cajita.appendChild(document.createTextNode(txt2));

      }

      function recorrer(coleccion) {
        var frase = "";
        for (let i = 0; i < coleccion.length; i++) {
          frase += " "+coleccion[i].textContent;
          
        }
        return frase;
      }

  </script>
</head>

<body>
  <H1> CICLOS DE INFORMÁTICA EN IES PALOMERAS VALLECAS </H1>
  <div id="mañana">
    <h2> Grado Superior </h2>
    <ul id="lista">
      <li>ASIR1</li>
      <li>ASIR2</li>
      <li>DAW1</li>
      <li>DAW2</li>
    </ul>
  </div>

    <div id="tarde">
      <h2> Grado Medio </h2>
      <ul id="lista">
        <li>SMR1A</li>
        <li>SMR1B</li>
        <li>SMR2A</li>
        <li>SMR2B</li>
      </ul>
      <h2> Grado Superior </h2>
      <ul id="lista">
        <li>DAM1</li>
        <li>DAM2</li>
      </ul>
    </div>
  


</body>

</html>