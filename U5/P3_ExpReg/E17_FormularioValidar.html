<!DOCTYPE html>
<html>
    <head>
        <script>
            let errores = "";
            function validar() {
                /*	var expr_nombre = /^[A-Z][a-zA-Z]+/;
                 var expr_dni = /^\d{8}[A-Z]$/;
                 var expr_telefono = /^\+\d{2,3}\s\d{9}$/;
                 var expr_cv = /\.(pdf|docx|doc|odt)$/;
                 var expr_fecha = /^(3[01]|[12]\d|0[1-9])\/(1[0-2]|0[1-9])\/(\d{4})$/;
                 var expr_email = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
                 var expr_ccc = /^[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4}$/;
                 var expr_coordenadas = /^\d{1,3}\,\d{1,3}$/;
                 var expr_ip = /^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-4])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-4])$/;
                 var expr_matricula = /^\d{4}([B-DF-HJ-NP-TV-Z]){3}$/;
                 */
        //utilizando el objeto RegExpr. Observa la cómo se crean las variables

                var expr_nombre = new RegExp("^[A-Z][a-zA-Z]+");
                var expr_dni = new RegExp("^\d{8}[A-Z]$");
                var expr_telefono = new RegExp("^\\+\\d{2,3}\\s\\d{9}$");

        //Observa que para el telefono se ha tenido que duplicar \ pq da el error Syntax Error: Nothing to repeat   		 

                var expr_cv = new RegExp("\.(pdf|docx?|odt)$");
                var expr_fecha = new RegExp("^(3[01]|[12]\d|0[1-9])\/(1[0-2]|0[1-9])\/(\d{4})$");
                var expr_email = new RegExp("^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$");
                var expr_ccc = new RegExp("^[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4}$");
                var expr_coordenadas = new RegExp("^\d{1,3}\,\d{1,3}$");
                var expr_ip = new RegExp("^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-4])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-4])$");
                var expr_matricula = new RegExp("^\d{4}([B-DF-HJ-NP-TV-Z]){3}$");


                validarElemento(document.getElementById('nombre').value, expr_nombre, "Nombre");
                validarElemento(document.getElementById('dni').value, expr_dni, "DNI");
                validarElemento(document.getElementById('telefono').value, expr_telefono, "Telefono");
                validarElemento(document.getElementById('cv').value, expr_cv, "Curriculum Vitae ");
                validarElemento(document.getElementById('fecha').value, expr_fecha, "Fecha");
                validarElemento(document.getElementById('email').value, expr_email, "e-mail");
                validarElemento(document.getElementById('ccc').value, expr_ccc, "Cuenta Corriente");
                validarElemento(document.getElementById('coordenadas').value, expr_coordenadas, "Coordenadas");
                validarElemento(document.getElementById('ip').value, expr_ip, "IP");
                validarElemento(document.getElementById('matricula').value, expr_matricula, "Matricula");

                if (errores === "") {
                    alert("Todos los campos son válidos");
                } else {
                    alert("Los campos inválidos son: \n" + errores);
                }
            }

            function validarElemento(elemento, patron, id) {
                if (!patron.test(elemento)) {
                    errores = errores + id + "\n";
                }
            }

        </script>
    </head>
    <body>
        <form>
            <fieldset>
                <legend>DATOS PERSONALES</legend>
                <label>Nombre: </label>
                <input type="text" id="nombre"/><br/><br/>
                <label>DNI: </label>
                <input type="text" id="dni"/><br/><br/>
                <label>Teléfono: </label>
                <input type="text" id="telefono"/><br/><br/>
                <label>e-mail: </label>
                <input type="text" id="email"/><br/><br/>
                <label>Curriculum vitae: </label>
                <input type="file" id="cv"/><br/><br/>
            </fieldset>
            <fieldset>
                <legend>DATOS DEL CONTRATO</legend>
                <label>Fecha de inicio del contrato: </label>
                <input type="text" id="fecha"/><br/><br/>
                <label>Numero de CC: </label>
                <input type="text" id="ccc"/><br/><br/>
            </fieldset>
            <fieldset>
                <legend>DATOS DE LUGAR DE TRABAJO</legend>
                <label>Coordenadas para teletrabajo: </label>
                <input type="text" id="coordenadas"/><br/><br/>
                <label>Dirección IP del equipo de Teletrabajo: </label>
                <input type="text" id="ip"/><br/><br/>
                <label>Matricula del vehículo para teletrabajo: </label>
                <input type="text" id="matricula"/><br/><br/>

            </fieldset>
            <br> <br>
            <input type="submit" value="Validar " onclick="validar()"/>
        </form>
    </body>
</html>
